<form
  [formGroup]="theftForm"
  ngxsForm="theftReport"
  (ngSubmit)="onSubmit()"
  ngxsFormDebounce="200"
  class="theft-form"
>
  <mat-form-field>
    <label for="title">Title</label>
    <input matInput id="title"
           type="text" formControlName="title"/>
  </mat-form-field>

  <mat-form-field>
    <label for="description">Description</label>
    <textarea matInput id="description" formControlName="description"></textarea>
  </mat-form-field>

  <mat-form-field>
    <label for="manufacturer">Manufacturer</label>
    <mat-select id="manufacturer" formControlName="manufacturer_name">
      <mat-select-trigger>
        {{theftForm.controls['manufacturer_name'].value}}
      </mat-select-trigger>

      <mat-option *ngFor="let manufacturer of manufacturers$ | async"
                  value="{{ manufacturer.name }}" class="options-picker-option">
        <p class="options-picker-text">{{ manufacturer.name}})</p>
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <label for="year">Year of manufacture</label>
    <mat-select id="year" formControlName="year">
      <mat-option *ngFor="let year of years" [value]="year">
        {{ year }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <label for="cycle_type">Type of cycle</label>
    <mat-select id="cycle_type" formControlName="cycle_type">
      <mat-select-trigger>
        {{ theftForm.controls['cycle_type'].value}}
      </mat-select-trigger>

      <mat-option *ngFor="let type of cycle_types$ | async"
                  value="{{ type.name }}" class="options-picker-option">
        <p class="options-picker-text">{{ type.name }})</p>
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <label for="serial">Serial number</label>
    <input matInput type="text" id="serial" formControlName="serial"/>
  </mat-form-field>

  <mat-form-field>
    <label for="image">Image (if already loaded in the Internet)</label>
    <input matInput type="text" id="image" formControlName="large_img"/>
  </mat-form-field>

  <mat-form-field color="accent" appearance="fill" class="picker-date">
    <label for="date">Date of theft</label>

    <input matInput id="date" [matDatepicker]="picker1" formControlName="date_stolen">
    <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
    <mat-datepicker #picker1></mat-datepicker>
  </mat-form-field>

  <mat-form-field>
    <label for="location">Location of theft</label>
    <input matInput type="text" id="location" formControlName="stolen_location"/>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <label for="colors">Frame colors</label>
    <mat-select id="colors" formControlName="frame_colors" multiple>
      <mat-select-trigger>
        {{theftForm.controls['frame_colors'].value}}
      </mat-select-trigger>

      <mat-option *ngFor="let color of frame_colors$ | async"
                  value="{{ color.name }}" class="options-picker-option">
        <p class="options-picker-text">{{ color.name }})</p>
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field>
    <label for="frame">
      Frame model
      <input matInput id="frame" type="text" formControlName="frame_model"/>
    </label>
  </mat-form-field>

  <button
    mat-raised-button color="primary"
    type="submit"
    class="action-btn"
    [disabled]="!theftForm.valid"
  >Melden
  </button>

</form>
